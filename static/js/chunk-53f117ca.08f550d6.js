(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53f117ca"],{"0889":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"page"},[t._m(0),i("div",{staticStyle:{padding:"15vh 50px 50px 30%"}},[i("el-upload",{ref:"uploadLogo",attrs:{"on-change":t.onChange,"on-success":t.onSuccess,"on-error":t.onError,"show-file-list":!1,"auto-upload":!1,action:t.uploadFileUrl,data:{projectName:"phy"}}},[[i("div",{staticClass:"el-upload-list el-upload-list--picture-card",staticStyle:{display:"block","margin-bottom":"20px"}},[t.hasImgUrl?i("div",{staticClass:"el-upload-list__item is-success",staticStyle:{display:"block",margin:"0",width:"240px",height:"240px"},on:{click:function(t){t.stopPropagation()}}},[i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.selectionFileUrl||t.logoUrl,alt:"LOGO"}}),i("a",{staticClass:"el-upload-list__item-name"},[i("i",{staticClass:"el-icon-document"})]),i("label",{staticClass:"el-upload-list__item-status-label"},[i("i",{staticClass:"el-icon-upload-success el-icon-check"})]),i("i",{staticClass:"el-icon-close"}),i("span",{staticClass:"el-upload-list__item-actions"},[i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(s){return s.stopPropagation(),t.delLogo(s)}}},[i("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"28px"}})])])]):i("div",{staticClass:"flex-center flex-v-center",staticStyle:{height:"240px",width:"240px",border:"1px solid #c0ccda","border-radius":"6px"}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"50px",color:"#8c939d"}})])]),i("el-button",{staticClass:"btn-red",staticStyle:{width:"110px"}},[t._v("选取图片")]),i("el-button",{staticClass:"btn-info",staticStyle:{"margin-left":"20px",width:"110px"},attrs:{loading:t.submitLoading},on:{click:function(s){return s.stopPropagation(),t.saveLogo(s)}}},[t._v("保存")])],i("p",{staticStyle:{"padding-top":"10px","font-size":"12px",color:"#606266"},attrs:{slot:"tip"},slot:"tip"},[t._v("\n        要求：jpg/png格式，大小不超过500kb\n      ")])],2)],1)])},o=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"head"},[i("div",{staticClass:"head-title"},[t._v("LOGO维护")])])}],a=i("b279"),l={name:"LogoManage",data:function(){return{logoUrl:"",selectionFileUrl:"",isUploadSuccess:!1,submitLoading:!1}},created:function(){this.getLoginOrg()},methods:{getLoginOrg:function(){var t=this;this.$post("/sys/org/getLoginOrg").then(function(s){var i=s.data;t.logoUrl=i.ologo}).catch(function(s){s&&t.$message.error(s)})},saveLogo:function(){if(!this.selectionFileUrl)return this.$message.warning("请选取您要上传的图片！");this.submitLoading=!0,this.$refs.uploadLogo.submit()},delLogo:function(){this.logoUrl="",this.selectionFileUrl=""},onSuccess:function(t){var s=this,i=t.data;this.$post("/sys/org/addLogoUrl",{orgId:this.$store.getters.o_userinfo.orgGuid,ologo:Object(a["b"])(i.filePath)}).then(function(t){s.submitLoading=!1,s.$message.success("保存LOGO成功")}).catch(function(t){s.submitLoading=!1,s.$message.error(t)})},onError:function(t){console.log(t),this.submitLoading=!1,this.$message.error("图片上传失败")},onChange:function(t){var s=this,i=t.raw,e=i.type,o=i.size;if(o>5e5)return this.$message.warning("LOGO图片大小不能超过500kb");if(-1===["image/jpeg","image/jpg","image/png"].indexOf(e))return this.$message.warning("LOGO图片格式只能是jpg/png");var a=new FileReader;a.readAsDataURL(i),a.onload=function(t){s.selectionFileUrl=a.result}}},computed:{uploadFileUrl:function(){return Object(a["b"])("/common/file/uploadFile")},hasImgUrl:function(){return this.logoUrl||this.selectionFileUrl}}},n=l,c=(i("9205"),i("2877")),r=Object(c["a"])(n,e,o,!1,null,"13a65b10",null);s["default"]=r.exports},"80d4":function(t,s,i){},9205:function(t,s,i){"use strict";var e=i("80d4"),o=i.n(e);o.a}}]);
//# sourceMappingURL=chunk-53f117ca.08f550d6.js.map