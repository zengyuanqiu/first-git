(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74fad5d9"],{1571:function(t,e,s){},"4bd4":function(t,e,s){"use strict";var i=s("d28e"),n=s.n(i);n.a},"88a6":function(t,e,s){},b314:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[s("div",{staticClass:"container"},[s("div",{staticClass:"wrap flex"},[t._m(0),s("div",{staticClass:"form-container flex-center flex-v-center"},[t._t("default")],2)])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-item"},[i("div",{staticClass:"logo"},[i("span",[i("img",{attrs:{src:s("4ffd"),alt:""}})]),t._v("\n          体检管理系统\n        ")])])}],o={name:"LoginBg"},r=o,a=(s("f5ab"),s("d035"),s("2877")),c=Object(a["a"])(r,i,n,!1,null,"4e0bcac4",null);e["a"]=c.exports},b50a:function(t,e,s){},d035:function(t,e,s){"use strict";var i=s("1571"),n=s.n(i);n.a},d28e:function(t,e,s){},ed67:function(t,e,s){"use strict";var i=s("88a6"),n=s.n(i);n.a},ede4:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("login-bg",[s("div",{staticClass:"body"},[s("h3",{staticClass:"form-title"},[t._v("\n      用户登录\n      "),s("div",{staticClass:"line"})]),s("el-form",{ref:"form",attrs:{model:t.formFields,rules:t.rules}},[s("el-form-item",{attrs:{prop:"accountNo"}},[s("el-input",{attrs:{placeholder:"请输入账号"},on:{input:t.onInput},model:{value:t.formFields.accountNo,callback:function(e){t.$set(t.formFields,"accountNo","string"===typeof e?e.trim():e)},expression:"formFields.accountNo"}},[s("span",{staticClass:"prefix",attrs:{slot:"prefix"},slot:"prefix"},[s("i",{staticClass:"iconfont bj-account"})])])],1),s("el-form-item",{attrs:{prop:"passwords"}},[s("el-input",{attrs:{placeholder:"请输入密码",type:"password",autocomplete:"new-password"},model:{value:t.formFields.passwords,callback:function(e){t.$set(t.formFields,"passwords","string"===typeof e?e.trim():e)},expression:"formFields.passwords"}},[s("span",{staticClass:"prefix",attrs:{slot:"prefix"},slot:"prefix"},[s("i",{staticClass:"iconfont bj-pwd"})])])],1),s("el-form-item",{attrs:{prop:"orgName"}},[s("el-input",{attrs:{value:t.formFields.orgName,readonly:""},nativeOn:{click:function(e){return t.getOrg(t.formFields.accountNo)}}},[s("span",{staticClass:"prefix",attrs:{slot:"prefix"},slot:"prefix"},[s("i",{staticClass:"iconfont bj-jigou"})])])],1),s("el-form-item",{staticClass:"about-pwd"},[s("el-checkbox",{model:{value:t.isRemenber,callback:function(e){t.isRemenber=e},expression:"isRemenber"}},[t._v("记住密码")]),s("a",{staticClass:"link fr",on:{click:function(e){return t.$router.push({name:"ForgetPwd"})}}},[t._v("忘记密码")])],1),s("a",{staticClass:"a-btn",class:{loading:t.loading},on:{click:t.login}},[t.loading?s("i",{staticClass:"el-icon-loading"}):t._e(),t._v("\n        "+t._s(t.loading?"登录中...":"登 录")+"\n      ")])],1)],1)])},n=[],o=s("cebc"),r=s("b314"),a=s("2f62"),c=s("b279"),l=(s("5c96"),{name:"Login",components:{LoginBg:r["a"]},data:function(){return{formFields:{accountNo:"",passwords:"",orgGuid:"",orgName:""},rules:{accountNo:[{required:!0,message:"请输入账号",trigger:"blur"}],passwords:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"密码长度为8~16字符",trigger:"blur"}],orgName:{required:!0,message:"没找到对应的机构"}},isRemenber:!1,loading:!1}},created:function(){this.initData()},mounted:function(){window.addEventListener("keyup",this.handleEnterKey)},destroyed:function(){window.removeEventListener("keyup",this.handleEnterKey)},methods:{initData:function(){if(this.isRemenber=this.b_isRemenber,this.b_isRemenber){var t=this.o_userinfo,e=t.accountNo,s=t.passwords;this.formFields.passwords=Object(c["c"])(s),this.formFields.accountNo=e,this.getOrg(e)}},login:function(){var t=this;this.loading||this.$refs.form.validate(function(e){e&&(t.loading=!0,t.$store.dispatch("login",{params:t.formFields,isRemenber:t.isRemenber}).then(function(e){t.loading=!1}).catch(function(e){return t.loading=!1}))})},onInput:function(t){Object(c["o"])({method:this.getOrg,params:t.trim()})},getOrg:function(t){var e=this;if(""===t)return this.formFields.orgGuid="",this.formFields.orgName="",void this.$nextTick(function(){return e.$refs.form.clearValidate("orgName")});this.$post("/login/getOrgByAccountNo",{accountNo:t}).then(function(t){var s=t.data,i=s.sysOrgDTO,n=i.oname,o=i.sysGuid;e.formFields.orgGuid=o,e.formFields.orgName=n}).catch(function(t){e.formFields.orgGuid="",e.formFields.orgName=""})},handleEnterKey:function(t){13===t.keyCode&&this.login()}},computed:Object(o["a"])({},Object(a["b"])(["o_userinfo","b_isRemenber"]))}),d=l,u=(s("4bd4"),s("ed67"),s("2877")),f=Object(u["a"])(d,i,n,!1,null,"385c2104",null);e["default"]=f.exports},f5ab:function(t,e,s){"use strict";var i=s("b50a"),n=s.n(i);n.a}}]);
//# sourceMappingURL=chunk-74fad5d9.30193895.js.map