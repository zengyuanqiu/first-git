(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-626cbb40"],{"07cd":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page flex-v"},[a("div",{staticClass:"head flex-v-center flex-justify"},[a("el-breadcrumb",{staticClass:"my-breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{name:"BasicDataList"}}},[e._v("基础数据维护")]),a("el-breadcrumb-item",[e._v("查看规则")])],1),a("div",{staticClass:"head-btn",on:{click:function(t){return e.openDialog("insert")}}},[a("img",{attrs:{src:l("1d89"),alt:"登记"}}),e._v(" "),a("span",[e._v("新增")])])],1),a("div",{staticClass:"table-box flex-item"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,height:"100%","header-cell-class-name":"custom-table-cell",stripe:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.$index+(e.pageNum-1)*e.pageSize+1)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"小项名称",prop:"projectName","show-overflow-tooltip":""}}),1==e.ids[1]?[a("el-table-column",{attrs:{label:"范围下限",prop:"lowerValue",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("emptyData")(t.row.lowerValue))+"\n          ")]}}],null,!1,3992057609)}),a("el-table-column",{attrs:{label:"范围上限",prop:"upperValue",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("emptyData")(t.row.upperValue))+"\n          ")]}}],null,!1,3156455368)}),a("el-table-column",{attrs:{label:"年龄下限",prop:"lowerAge",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("emptyData")(t.row.lowerAge))+"\n          ")]}}],null,!1,1301533729)}),a("el-table-column",{attrs:{label:"年龄上限",prop:"upperAge",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("emptyData")(t.row.upperAge))+"\n          ")]}}],null,!1,2734889824)})]:e._e(),a("el-table-column",{attrs:{label:"关键词",prop:"kayword","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("emptyData")(t.row.kayword))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"检查结论",prop:"checkConclusion","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("emptyData")(t.row.checkConclusion))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"诊断意见或印象","min-width":"130px",prop:"checkProposal","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("emptyData")(t.row.checkProposal))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"温馨提示",prop:"checkWaring","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("emptyData")(t.row.checkWaring))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"iconfont bj-search",on:{click:function(l){return e.openDialog("see",t.row)}}}),a("i",{staticClass:"iconfont bj-edit",on:{click:function(l){return e.openDialog("update",t.row)}}}),a("i",{staticClass:"iconfont bj-delete",on:{click:function(l){return e.delConfirm(t.row)}}})]}}])})],2)],1),a("div",{staticClass:"foot"},[a("bj-pagination",{ref:"pagination",attrs:{queryUrl:"/sys/projectItemResult/listPaging",queryObj:{projectId:e.ids[0]}},on:{listResult:e.getListResult,controlLoading:function(t){e.loading=t}}})],1),a("el-dialog",{staticClass:"flex",attrs:{visible:e.dialogIsShow,"custom-class":"my-dialog",width:"720px",title:e.dialogTitles[e.dialogType],"close-on-click-modal":!1,center:""},on:{"update:visible":function(t){e.dialogIsShow=t}}},[a("div",{staticClass:"dialog-name"},[e._v("项目名称："+e._s(e.ids[2]))]),"see"===e.dialogType?[a("el-form",{key:"1",attrs:{inline:"",size:"small","label-width":"auto","label-position":"left"}},[a("el-row",[1==e.ids[1]?[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"范围下限："}},[e._v("\n                "+e._s(e._f("emptyData")(e.dataInfo.lowerValue))+"\n              ")])],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"范围上限："}},[e._v("\n                "+e._s(e._f("emptyData")(e.dataInfo.upperValue))+"\n              ")])],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"是否标准："}},[e._v("\n                "+e._s(2==e.dataInfo.standardResult?"是":"否")+"\n                ")])],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"年龄下限："}},[e._v("\n                "+e._s(e._f("emptyData")(e.dataInfo.lowerAge))+"\n              ")])],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"年龄上限："}},[e._v("\n                "+e._s(e._f("emptyData")(e.dataInfo.upperAge))+"\n              ")])],1)]:e._e(),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"疾病类型："}},[e._v("\n              "+e._s(2==e.dataInfo.diseaseType?"常见疾病":1==e.dataInfo.diseaseType?"正常":"疾病")+"\n            ")])],1),a("el-col",[a("div",{staticClass:"label"},[a("i",{staticClass:"iconfont bj-key-word"}),e._v("关键词")]),a("el-form-item",{staticClass:"block-form-item"},[a("p",{staticClass:"text"},[e._v(e._s(e._f("emptyData")(e.dataInfo.kayword)))])])],1),a("el-col",[a("div",{staticClass:"label"},[a("i",{staticClass:"iconfont bj-msg"}),e._v("检查结论")]),a("el-form-item",{staticClass:"block-form-item"},[a("p",{staticClass:"text"},[e._v(e._s(e._f("emptyData")(e.dataInfo.checkConclusion)))])])],1),a("el-col",[a("div",{staticClass:"label"},[a("i",{staticClass:"iconfont bj-opinion"}),e._v("诊断意见或印象")]),a("el-form-item",{staticClass:"block-form-item"},[a("p",{staticClass:"text"},[e._v(e._s(e._f("emptyData")(e.dataInfo.checkProposal)))])])],1),a("el-col",[a("div",{staticClass:"label"},[a("i",{staticClass:"iconfont bj-tip"}),e._v("温馨提示")]),a("el-form-item",{staticClass:"block-form-item"},[a("p",{staticClass:"text"},[e._v(e._s(e._f("emptyData")(e.dataInfo.checkWaring)))])])],1)],2)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-info",on:{click:function(t){return e.openDialog("update")}}},[e._v("修改")])],1)]:[a("el-form",{key:"2",ref:"form",staticClass:"default-form-style",attrs:{inline:"",size:"small",model:e.formFields,rules:e.rules}},[a("el-row",{staticClass:"flex-wrap",attrs:{type:"flex"}},[1==e.ids[1]?[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"范围下限：",prop:"lowerValue"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入",value:e.formFields.lowerValue,maxlength:"7"},on:{input:function(t){return e.$outNegative(t,"lowerValue",e.formFields)}}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"范围上限：",prop:"upperValue"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入",value:e.formFields.upperValue,maxlength:"7"},on:{input:function(t){return e.$outNegative(t,"upperValue",e.formFields)}}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{prop:"standardResult"}},[a("el-checkbox",{staticClass:"red",attrs:{"true-label":"2","false-label":"1"},model:{value:e.formFields.standardResult,callback:function(t){e.$set(e.formFields,"standardResult",t)},expression:"formFields.standardResult"}},[e._v("标准规则")])],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"年龄下限：",prop:"lowerAge"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入",value:e.formFields.lowerAge,maxlength:"3"},on:{input:function(t){return e.$outInt(t,"lowerAge",e.formFields)}}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"年龄上限：",prop:"upperAge"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入",value:e.formFields.upperAge,maxlength:"3"},on:{input:function(t){return e.$outInt(t,"upperAge",e.formFields)}}})],1)],1)]:e._e(),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{prop:"diseaseType",label:"疾病类型："}},[a("el-select",{model:{value:e.formFields.diseaseType,callback:function(t){e.$set(e.formFields,"diseaseType",t)},expression:"formFields.diseaseType"}},[a("el-option",{attrs:{value:"1",label:"正常"}}),a("el-option",{attrs:{value:"2",label:"常见疾病"}}),a("el-option",{attrs:{value:"3",label:"疾病"}})],1)],1)],1),a("el-col",[a("div",{staticClass:"label"},[a("i",{staticClass:"iconfont bj-key-word"}),e._v("\n              关键词\n                \n              "),a("span",{staticStyle:{"font-size":"13px",color:"#C0C4CC","font-weight":"400"}},[e._v("\n                多个关键字时，请用英文 [ ] 表示，举例：\n                "+e._s(1==e.ids[1]?"[++]":"[ 胆囊 ] [ 肺气重 ]")+"\n              ")])]),a("el-form-item",{staticClass:"block-form-item",attrs:{prop:"kayword"}},[a("el-input",{attrs:{type:"textarea",rows:"4",resize:"none",maxlength:1==e.ids[1]?30:200,"show-word-limit":""},model:{value:e.formFields.kayword,callback:function(t){e.$set(e.formFields,"kayword",t)},expression:"formFields.kayword"}})],1)],1),a("el-col",[a("div",{staticClass:"label"},[a("i",{staticClass:"iconfont bj-msg"}),e._v("检查结论")]),a("el-form-item",{staticClass:"block-form-item",attrs:{prop:"checkConclusion"}},[a("el-input",{attrs:{type:"textarea",rows:"4",resize:"none",maxlength:"300","show-word-limit":""},model:{value:e.formFields.checkConclusion,callback:function(t){e.$set(e.formFields,"checkConclusion",t)},expression:"formFields.checkConclusion"}})],1)],1),a("el-col",[a("div",{staticClass:"label"},[a("i",{staticClass:"iconfont bj-opinion"}),e._v("诊断意见或印象")]),a("el-form-item",{staticClass:"block-form-item",attrs:{prop:"checkProposal"}},[a("el-input",{attrs:{type:"textarea",rows:"4",resize:"none",maxlength:"300","show-word-limit":""},model:{value:e.formFields.checkProposal,callback:function(t){e.$set(e.formFields,"checkProposal",t)},expression:"formFields.checkProposal"}})],1)],1),a("el-col",[a("div",{staticClass:"label"},[a("i",{staticClass:"iconfont bj-tip"}),e._v("温馨提示")]),a("el-form-item",{staticClass:"block-form-item",attrs:{prop:"checkWaring"}},[a("el-input",{attrs:{type:"textarea",rows:"4",resize:"none",maxlength:"300","show-word-limit":""},model:{value:e.formFields.checkWaring,callback:function(t){e.$set(e.formFields,"checkWaring",t)},expression:"formFields.checkWaring"}})],1)],1)],2)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-hollowing",on:{click:function(t){e.dialogIsShow=!1}}},[e._v("取消")]),a("el-button",{staticClass:"btn-info",attrs:{loading:e.submitLoading},on:{click:e.onSubmit}},[e._v("保存")])],1)]],2)],1)},s=[],o=(l("456d"),l("ac6a"),l("28a5"),{name:"RuleList",props:{id:{type:String,required:!0}},data:function(){var e=this;return{tableData:[],formFields:{projectId:"",resultType:"",upperValue:"",lowerValue:"",lowerAge:"",upperAge:"",diseaseType:"",kayword:"",checkConclusion:"",checkProposal:"",checkWaring:"",standardResult:""},rules:{lowerAge:{validator:function(t,l,a){if(!l||!e.formFields.upperAge)return a();var s=+l,o=+e.formFields.upperAge;return s>o?a(new Error("不能大于上限")):(e.$refs.form.clearValidate("upperAge"),a())},trigger:"blur"},upperAge:{validator:function(t,l,a){if(!l||!e.formFields.lowerAge)return a();var s=+l,o=+e.formFields.lowerAge;return o>s?a(new Error("不能小于下限")):(e.$refs.form.clearValidate("lowerAge"),a())},trigger:"blur"},upperValue:{validator:function(t,l,a){if(!l||!e.formFields.lowerValue)return a();var s=+l,o=+e.formFields.lowerValue;return o>s?a(new Error("不能小于下限")):(e.$refs.form.clearValidate("lowerValue"),a())},trigger:"blur"},lowerValue:{validator:function(t,l,a){if(!l||!e.formFields.upperValue)return a();var s=+l,o=+e.formFields.upperValue;return s>o?a(new Error("不能大于上限")):(e.$refs.form.clearValidate("upperValue"),a())},trigger:"blur"}},pageNum:1,pageSize:10,dataInfo:{},dialogIsShow:!1,dialogType:"",loading:!0,submitLoading:!1}},computed:{ids:function(){return this.id.split("&")}},created:function(){this.dialogTitles={see:"查看",insert:"新增",update:"修改"}},methods:{getListResult:function(e){var t=e.list,l=e.pageNum,a=e.pageSize;this.tableData=t,this.pageNum=l,this.pageSize=a},delConfirm:function(e){var t=this,l=e.sysGuid;this.$confirm("",{title:"确定删除记录？",showClose:!1,customClass:"msg-box"}).then(function(e){t.$post("/sys/projectItemResult/remove",{sysGuid:l}).then(function(e){if(t.$message.success("删除成功"),1===t.tableData.length){var l=t.pageNum>1?t.pageNum--:t.pageNum;t.$refs.pagination.initPageList(l)}else t.$refs.pagination.initPageList()}).catch(function(e){t.$alert("原因：".concat(e),"删除失败",{showClose:!1,customClass:"msg-box danger"})})}).catch(function(e){return e})},openDialog:function(e,t){var l=this;this.dialogIsShow=!0,this.dialogType=e,t?(this.dataInfo=t,Object.keys(this.formFields).forEach(function(e){l.formFields[e]=t[e]}),this.formFields.sysGuid=t.sysGuid):"insert"===e&&(delete this.formFields.sysGuid,Object.keys(this.formFields).forEach(function(e){l.formFields[e]=""}),this.formFields.diseaseType="1"),this.$nextTick(function(e){"see"!==l.dialogType&&l.$refs.form.clearValidate()})},onSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(t){e.submitLoading=!0,e.formFields.projectId=e.ids[0],e.formFields.resultType=e.ids[1];var l="/sys/projectItemResult/".concat(e.dialogType),a=e.dialogTitles[e.dialogType];e.$post(l,e.formFields).then(function(t){e.submitLoading=!1,e.dialogIsShow=!1,e.$refs.pagination.initPageList(),e.$message.success("".concat(a,"成功"))}).catch(function(t){e.submitLoading=!1,e.$message.error(t)})}})}}}),i=o,r=(l("3ae1"),l("2877")),n=Object(r["a"])(i,a,s,!1,null,"499513d8",null);t["default"]=n.exports},"0983":function(e,t,l){},"1d89":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAADL0lEQVRIiZ2VP6idRRDFf4e7795CUBCUF2KE50sRBAWFoAGtBEEMNnYWYikSG0sLK4tUQYgiWIiVBEQtnhAbC0EiGItXv8JOFBFCilxQzB6L2T/zXVP5Nffu7uycmTNnZnVw8u79wFXgVeA+/t/3D3ATeAs43j0seHUV8boNiF8xf0lx6B1jtT0ZrG4hgDOYCxLXDWeBO91GQKmsLoJAvAIc0S7b3W0HMHWs+3mzEQ+Db9g6BD+L9F0EYwwUe+9B8J9CRzny7kRqGdkYgdqvTWQsMH8YLgMvCm7ZAVAVuRezB/Y20+Mg5gzoKdubTtOgakQiPFe3gS+AQ8Mh6LbhB8y2mAL5YgC8DVwBygBXc6qZ5oJRL+toCap/Ay4Wez1AGjWPyL4CKlYUVsNpGMxKBZ7suDyF0NFOAR+V6r0eZi/2k8YlAlYvc05nEbEgBGGn05yezkcmy5w1oha4aVtEtHYorUMYY0W2FS2ybN+q1AHSUu4RSVAboqD2yofTr7G/BSHxns3p7rEumisCLNWbIVM1RzU4IKsKZhPK/AT+BItqLqEA0X/9g6GYzeiJIUcHqgeLnmt3iYe9IKJSE52S98Z+sde9L3bUqNGx7KyVSlyTz355eovNctcb4B7UzADBvgY6rpOM7xM1H2AeSkS9YTi3qIkbiAew57oOlR2BP8/dF38N1qfLUarnEefAwVwUfh0zrmagltkU3HSRa1XDMI+abi+3/pEpZg2VVZUacnjvXLe994F3ZtH9IeazZn0txntvaJ3FboGE9kutm7uIU5jHjH/pRQvVtElqDiQOBk32fpu+gB8HnuhiGB2f0i+VvZ9lPWP4UXDZcJLEOQdfqteiIxaDcd7LPVPw+s0K14F90AvGJ+rjo5MtDSdToqNK88VkSryO4opSWR9jDoHnDFvggR70aC73kdAP9BrwdJvSj84W6U2b7A0qN2/tJMfLwDeTBOUBnr5EzT1YzLmFuvKTJ/09jPKUGe+IEjRMkhrK4t02wLZUr4bPhnND5nek/TywYhr0UZ5UlHNKthrzz18WXBaPmeEO8BLmY8R5YJWbMVV5Xup3lcvGFvgKuPQv8WHfKjqAI4QAAAAASUVORK5CYII="},"28a5":function(e,t,l){"use strict";var a=l("aae3"),s=l("cb7c"),o=l("ebd6"),i=l("0390"),r=l("9def"),n=l("5f1b"),c=l("520a"),u=l("79e5"),d=Math.min,f=[].push,p="split",m="length",g="lastIndex",b=4294967295,h=!u(function(){RegExp(b,"y")});l("214f")("split",2,function(e,t,l,u){var v;return v="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[m]||2!="ab"[p](/(?:ab)*/)[m]||4!="."[p](/(.?)(.?)/)[m]||"."[p](/()()/)[m]>1||""[p](/.?/)[m]?function(e,t){var s=String(this);if(void 0===e&&0===t)return[];if(!a(e))return l.call(s,e,t);var o,i,r,n=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?b:t>>>0,h=new RegExp(e.source,u+"g");while(o=c.call(h,s)){if(i=h[g],i>d&&(n.push(s.slice(d,o.index)),o[m]>1&&o.index<s[m]&&f.apply(n,o.slice(1)),r=o[0][m],d=i,n[m]>=p))break;h[g]===o.index&&h[g]++}return d===s[m]?!r&&h.test("")||n.push(""):n.push(s.slice(d)),n[m]>p?n.slice(0,p):n}:"0"[p](void 0,0)[m]?function(e,t){return void 0===e&&0===t?[]:l.call(this,e,t)}:l,[function(l,a){var s=e(this),o=void 0==l?void 0:l[t];return void 0!==o?o.call(l,s,a):v.call(String(s),l,a)},function(e,t){var a=u(v,e,this,t,v!==l);if(a.done)return a.value;var c=s(e),f=String(this),p=o(c,RegExp),m=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),w=new p(h?c:"^(?:"+c.source+")",g),y=void 0===t?b:t>>>0;if(0===y)return[];if(0===f.length)return null===n(w,f)?[f]:[];var k=0,_=0,C=[];while(_<f.length){w.lastIndex=h?_:0;var A,x=n(w,h?f:f.slice(_));if(null===x||(A=d(r(w.lastIndex+(h?0:_)),f.length))===k)_=i(f,_,m);else{if(C.push(f.slice(k,_)),C.length===y)return C;for(var F=1;F<=x.length-1;F++)if(C.push(x[F]),C.length===y)return C;_=k=A}}return C.push(f.slice(k)),C}]})},"3ae1":function(e,t,l){"use strict";var a=l("0983"),s=l.n(a);s.a},aae3:function(e,t,l){var a=l("d3f4"),s=l("2d95"),o=l("2b4c")("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==s(e))}}}]);
//# sourceMappingURL=chunk-626cbb40.7e7f8a6c.js.map