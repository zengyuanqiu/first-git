(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c87ded8"],{"0a49":function(t,e,s){var a=s("9b43"),l=s("626a"),i=s("4bf8"),n=s("9def"),c=s("cd1c");t.exports=function(t,e){var s=1==t,o=2==t,r=3==t,u=4==t,d=6==t,p=5==t||d,h=e||c;return function(e,c,m){for(var f,v,b=i(e),k=l(b),y=a(c,m,3),C=n(k.length),x=0,g=s?h(e,C):o?h(e,0):void 0;C>x;x++)if((p||x in k)&&(f=k[x],v=y(f,x,b),t))if(s)g[x]=v;else if(v)switch(t){case 3:return!0;case 5:return f;case 6:return x;case 2:g.push(f)}else if(u)return!1;return d?-1:r||u?u:g}}},1169:function(t,e,s){var a=s("2d95");t.exports=Array.isArray||function(t){return"Array"==a(t)}},"131d":function(t,e,s){"use strict";var a=s("8678"),l=s.n(a);l.a},1435:function(t,e,s){"use strict";var a=s("8a02"),l=s.n(a);l.a},"20d6":function(t,e,s){"use strict";var a=s("5ca1"),l=s("0a49")(6),i="findIndex",n=!0;i in[]&&Array(1)[i](function(){n=!1}),a(a.P+a.F*n,"Array",{findIndex:function(t){return l(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(i)},"30a0":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABUCAYAAAA/MEEUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhBNjE0RjkyODI4MTExRTlBMDBDQjVDMTk0RjY1NzhDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhBNjE0RjkzODI4MTExRTlBMDBDQjVDMTk0RjY1NzhDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEE2MTRGOTA4MjgxMTFFOUEwMENCNUMxOTRGNjU3OEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEE2MTRGOTE4MjgxMTFFOUEwMENCNUMxOTRGNjU3OEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4PmZMQAAAEZElEQVR42uycXW7UMBDHHcdJP4QQl0BwhPLOoThBxWk4AOo7HAGJI/BSWkSbxHaYv7eB7TZddp3xR3YzxWgfqNb88p8ZezxOcdc2guw1jY803tN4KY7Tbmhc0fhA43tBYN7Qh680XonFYNc0LiT9dblAeWRgcQnF/Dxi93nOfskFyqi9kAuDcVvALGAWMAuYkKZymUjf9wI/+AMrisKNowSjjXHD9NaBGbNSSjdUqYSMCCoJmM5o0Wr9LIx1M9a6gX+vZCnqqooCKCoYuErTdkJb46cw+j3dGHFS1aIqy8MIvoBy37beUNat6VrRkYJmrRhL7jLEEkuxhMsa3bngrAIpJxgYgGgpllhrg0EHHATmENmL3ZUQUOEy9yT3kFCG7wKc7GMMJoqKIEcc2UeZdofslhTMHVQSYJL/Tf8BAjEbGKwzQrvOtjSeLRgs2lJuJwzzQ5E8UMxOq9jQsSY7MNyT8jFjMwRjbXowCPqcqpXTJ2RFL/Iww7iyng7G5oJFsGZFySHhbMDk5Eq9WBTz3CJiUcy4YvIyLtXIAxIMq2oY1jF9ZmAWxQRdPiyKOZrgOxzcpXel3NDwuJM8JLX822nbxGD6PNHY1GBSlTKzV4zNVDEIvlMLVzL1kwll2tg0YHrBX05kBUNz61OA0QlPBXZNDHrCeZM3mNDdBhyGs3PfzOkFpum6bAPvpmp8z7bl/i5kkh6u+cy39YCzFxgAQRfD3AzHx82e894ZDNYGrdZirmb2dP2dwRT0c1bVopghFDQWYe7BXElKKU7rk6T9t15QPOa8d/BFa9dZXUftufVei9BczwmKz1y90rUspHsK6LvN1dDuej5B3WqKRE9JOUiHWCvkUoLAvE5UNbmbc3LXJiYA90LGSr2+qZUSFY2CIUUotqdUVW5SXWRA+G64TVUq1qSAy6LsPgC36gI0PW8mAVy8qObUAI0nB1ljDJ3hKFFMqd/Ih1soZSGDNT0HB/M4g60g4asAyHdLUZM6VBkvC0a94Tal4yl2USwumAlNjDpyGTUaGMSXKTWcVS+vOTwwHCk85u4+ChicP3H0Ag/XAA8GDOfVmSZSoSw4GMif8ykjTqHmPGswvvXWXeJVO9c7kdgShJT9AHy1eJwJGEg9xkYScLAXQ5mBe4vACgaxZHXmFG8xttqHWZYaDDsYgIDPp7qe4y6oktuWRpJrVW6TmRTMcPiWS9cD5oHLqgBTTdx0qv3V0bsD/RxutW1fCLai0KsL65UsXdmCHYzrHLDGwbAZ98SMzdtVFIV2BXwUtQBql0C9tYIH8nCVHK72sWach1Lotlikxrf4tDDrdNTsEtOGd01ARVgHjcUitbnZw77G2MMEMpZNkc0kZbNTymbrcejvJ/jib4roxwJlUxD4v683Q8lh9xvq5RFzsnUOCsG1m3F7B/sej1hIUQhJS/ibBccT5biXkF4tKJ7Y5+LHzfVb+vBFLO/0HQwvOn4HxXyjcUHjE43bIwZy+8AALL79EWAAGu+wDftiiNcAAAAASUVORK5CYII="},"56c9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABUCAYAAAA/MEEUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdFNDVDQjAyODI4MTExRTk4NjMwREI2MkJBQkY0NEM0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdFNDVDQjAzODI4MTExRTk4NjMwREI2MkJBQkY0NEM0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0U0NUNCMDA4MjgxMTFFOTg2MzBEQjYyQkFCRjQ0QzQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0U0NUNCMDE4MjgxMTFFOTg2MzBEQjYyQkFCRjQ0QzQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ZJ2J1AAAEAklEQVR42uyca27UMBDHbefRVkKISyA4QvnOoThBxWk4AOp3OAISZ0CiD9FN4gfz93YhbbPbNhkn011PNe12tUqcn2fG48esvmkbRfKW9DPpR9LX6jDlkvSc9BPpT01g3tGL76RvVBbIb9JTQ7/OMpQ7AhZnsJiLA3afbXJtMpRBeWUyg2HJYDKYDCaDSSnl3Df0wSvnvfI+xNchBBXoffyFaK2jGtLSFKooCqX3FYynh7bOqs65fwC2SQRF6um1pc/rTqmqrFRdlvsDBg/Y2C4+4OhrkLZ0DVjZSV2/fDCA0XStCkzXc96pP02jCmOiluRiLw4MrKSzNkl88s6TS1Issjq6V1Wk6Vv2Uanp0kAZdFO6F5ZNHotbi4PpYoC1ak5B7Fkxuiw7GH/bg0sI4CCeiQTTLgSlH+ytd7LAeOoxzkaN7xwrC0znlofSz6rFgJFgLX2XEgEGPZRiuFy6kwyH+UqSOM9i6KjpYHxQ0oSjswxHD0mT4AVYTFACLUaJACNQGBo1GYwWyUWAxUgUjs6abjFa7yWavQTD0abJYIw2GcwwGHkWYySAwcK0NOFok5HSED5r4WnL5KtgjZdrDYRrnsSxGD8ZTGutOFdq3cJgNtup4jJfhnbl0w4pwMSTCSLzXj05l5mex+ThelhS7R1PEY4Nf8PRCElWU5hCBhjISVUvbjmIKHVZsZ2hYQGDQHdUVYtmwLAUzlNXRppvjwbDfG9mMOUi6zO4ZyUZzNrP5481RxRbRCV424Zv+PtcgvulcOEk0fKYAvEcC1gI9gj64qYEu3z+pD5KCge503HC463JxteUcGApyJ1SztSSJh4bOJz5DeIJrpl69EuekeEBOIPxXLsSeT0mg8lgMpg9ABOEXmthMJwbCXNtSswChvNk51ynRJODwS4l504lrmVnOIluUlvKirkqBIIql9TbwsnAoL7gpklTZIUzdijgSrk9zL6qhCPraLCfYaO/jYWoVlUJSgDxNSlhuss8vXw42ZyMfjDBhHJMWkdjBgBYBwKhhGMgcK9N6SEmrgBUmfF7Xs8GAxBdhCGnFGeo03BGhhxtXfEfLal81trQk1wp3mhhV+EQuBjiUfmEZZDyMSA4hNMJPBw0Oqdq2wgIu5a7YlG5y2VQWP6SLWQXIAz3GMnqqhpcIC23JVBz108vIevzg04dD6xNP7ClFZnaIUDppxqwnvtVcXfAIH23gkeblKPY6t5XIZh+TLHu8KD0LQcx9QGY/puHKv1k1aznHHYvR59RAfk2NTGb6Jzl/yQYRmKkFZRLyXMIjLvMKB6AuTbeh/OM4v4I5b/qX1cX72mo+qbyd/pu5LfW+oOh+PKD/jkl/UJ6dcBArm4ZnILJXwEGAGIlGmdPqH7TAAAAAElFTkSuQmCC"},"6b4f":function(t,e,s){"use strict";var a=s("ee27"),l=s.n(a);l.a},"6ef4":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trialpreson flex-v page"},[a("el-breadcrumb",{staticClass:"my-breadcrumb headertitle",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{name:"FirstTrial"}}},[t._v("初审台")]),a("el-breadcrumb-item",[t._v("初审人员")])],1),a("div",{staticClass:"tabledata"},[a("div",{staticClass:"leftmeun"},[a("div",{staticClass:"topmeun"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.defaultactive}},t._l(t.totalData,function(e,s){return a("el-submenu",{key:s,attrs:{index:""+s}},[a("template",{slot:"title"},[a("i",{staticClass:"icon iconfont bj-keshiIcon",class:{active:t.keshiindex===s}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.isAllCheck,expression:"!item.isAllCheck"}],staticClass:"reddian"})]),a("span",[t._v(t._s(e.dname))])]),a("el-menu-item-group",t._l(e.bigProject,function(e,l){return a("el-menu-item",{key:l,staticClass:"menuitem",attrs:{index:s+"-"+l},nativeOn:{click:function(a){return t.clickmenuevent(s,l,e.sysGuid,e.resultType,e.isAllCheck)}}},[a("span",{staticStyle:{margin:"0 10px 0 -24px",color:"red",visibility:"hidden"},style:{visibility:e.isAllCheck?"hidden":"visible"}},[t._v("●")]),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.pname))])])}),1)],2)}),1)],1),t._m(0)]),a("div",{staticClass:"rightconcent flex-v"},[a("div",{staticClass:"toppresonxinxi"},[a("div",{staticClass:"presonIcon flex-v-center"},[t.ponserData.addOn1?a("img",{attrs:{src:t.ponserData.addOn1,alt:""}}):[2==t.ponserData.sexType?a("img",{attrs:{src:s("30a0")}}):a("img",{attrs:{src:s("56c9")}})]],2),a("div",{staticClass:"presoncontent flex-item"},[a("div",{staticClass:"cell-item-list"},[a("div",{staticClass:"cell-item"},[a("label",{staticClass:"lable"},[t._v("姓名 : ")]),[t._v(t._s(t.ponserData.userName))]],2),a("div",{staticClass:"cell-item"},[a("label",{staticClass:"lable"},[t._v("性别 : ")]),t._v("\n              "+t._s(1==t.ponserData.sexType?"男":2==t.ponserData.sexType?"女":"不详")+"\n            ")]),a("div",{staticClass:"cell-item"},[a("label",{staticClass:"lable"},[t._v("年龄 : ")]),[t._v(t._s(t.ponserData.age))]],2),a("div",{staticClass:"cell-item"},[a("label",{staticClass:"lable"},[t._v("居民类型 : ")]),[t._v(t._s(t._f("getBoxType")(t.ponserData.personType)))]],2),a("div",{staticClass:"cell-item"},[a("label",{staticClass:"lable"},[t._v("既往史 : ")]),[t._v(t._s(t._f("emptyData")(t.historyDisease)))]],2),4==t.ponserData.examStatus?a("div",{staticClass:"cell-item redcolor"},[a("label",[t._v("驳回原因 : ")]),[t._v(t._s(t.ponserData.backReason))]],2):t._e(),t.isShowExamBtn?a("div",{staticClass:"cell-item bottombtngrop flex",staticStyle:{width:"0"}},[a("el-button",{staticClass:"btn-info",attrs:{size:"small"},on:{click:t.audit}},[t._v("审核")])],1):t._e()])])]),a("div",{staticClass:"presoncontent-table table-box"},[a(t.currentTabComponent,{key:t.currentTabComponent,ref:"conclusionslist",tag:"component",attrs:{smallProjectData:t.totlesmalldata,resultType:t.resultType,editType:t.editType,maxIndex:t.projectIndex},on:{submitSave:t.submitSave}})],1)])]),a("div",{staticClass:"footer"},[a("div",{staticClass:"bottombtngrop flex",staticStyle:{"justify-content":"center"}},[a("div",{staticClass:"csdoctor flex",staticStyle:{"margin-right":"90px"}},[a("span",{staticClass:"lableitem"},[t._v("初审医生：")]),t._v("\n        "+t._s(t._f("emptyData")(t.ponserData.examStatus>1&&t.ponserData.oneAuthUserName))+"\n      ")]),a("div",{staticClass:"csdate flex"},[a("span",{staticClass:"lableitem"},[t._v("初审日期：")]),t._v("\n        "+t._s(t._f("formatDate")(t.ponserData.examStatus>1&&t.ponserData.updateDate))+"\n      ")])]),a("div",{staticClass:"bottombtngrop flex",staticStyle:{"justify-content":"flex-end"}},[1==t.checkstatus?a("el-button",{staticClass:"btn-red",attrs:{size:"small"},on:{click:t.editevent}},[t._v("\n        修改\n      ")]):t._e(),0==t.checkstatus?a("el-button",{staticClass:"btn-info",attrs:{size:"small",loading:t.saveLoading},on:{click:t.submitSave}},[t._v("\n        保存\n      ")]):t._e(),0==t.checkstatus?a("el-button",{staticClass:"btn-red",on:{click:t.syncData}},[t._v("\n        同步数据\n      ")]):t._e()],1)])],1)},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"leftmeunfoot"},[s("div",{staticClass:"huicolor"},[t._v("注：红色为未审核项")])])}],i=(s("7f7f"),s("ac6a"),s("456d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"trialpreson"},[1==t.resultType?s("el-table",{key:"1",ref:"multipleTable",attrs:{stripe:"",data:t.smallProjectData,"tooltip-effect":"dark","header-cell-class-name":"custom-table-cell"}},[s("el-table-column",{attrs:{align:"center",label:"小项名称","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.pname||e.row.projectName)+"\n      ")]}}],null,!1,2649804952)}),s("el-table-column",{attrs:{align:"center",label:"结果"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{ref:"vIpt-1-"+e.$index,attrs:{placeholder:"请输入",size:"small",tabindex:"1"},on:{change:function(s){return t.checkEvent(s,e.row)}},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.handleEnter(e.$index,e.row.checkValue,"vIpt-1-")}},model:{value:e.row.checkValue,callback:function(s){t.$set(e.row,"checkValue",s)},expression:"scope.row.checkValue"}})]}}],null,!1,737683734)}),s("el-table-column",{attrs:{align:"center",label:"单位","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.projectSymbol)+"\n      ")]}}],null,!1,70289838)}),s("el-table-column",{attrs:{align:"center",prop:"rule",label:"规则","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{width:"55",label:"阳性","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-checkbox",{staticClass:"green",attrs:{"true-label":"2","false-label":"1"},model:{value:e.row.nature,callback:function(s){t.$set(e.row,"nature",s)},expression:"scope.row.nature"}})]}}],null,!1,4158121306)})],1):t._e(),1==t.resultType?s("div",{key:"1-1",staticClass:"checkmain"},[s("div",{staticClass:"checkmain"},[t._v("检查结论：")]),s("div",{staticClass:"jlmain"},[s("div",{staticClass:"jlcentent"},t._l(t.conclusionslist,function(e,a){return s("div",{key:a,staticClass:"flex"},[s("div",{staticClass:"project-label"},[t._v(t._s(e.pname||e.projectName)+"：")]),s("div",{staticClass:"flex-item"},[s("el-input",{ref:"textarea1",refInFor:!0,staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:1},resize:"none",tabindex:"1"},on:{change:function(e){t.isIO=!0}},model:{value:e.checkConclusion,callback:function(s){t.$set(e,"checkConclusion",s)},expression:"item.checkConclusion"}})],1)])}),0)])]):t._e(),1==t.resultType?s("div",{key:"1-2",staticClass:"checkmain"},[s("div",{staticClass:"checkmaintitle"},[t._v("诊断意见或印象：")]),s("div",{staticClass:"jlmain"},[s("div",{staticClass:"jlcentent"},t._l(t.conclusionslist,function(e,a){return s("div",{key:a,staticClass:"flex"},[s("div",{staticClass:"project-label"},[t._v(t._s(e.pname||e.projectName)+"：")]),s("div",{staticClass:"flex-item"},[s("el-input",{ref:"textarea2",refInFor:!0,staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:1},resize:"none",tabindex:"1"},on:{change:function(e){t.isIO=!0}},model:{value:e.checkProposal,callback:function(s){t.$set(e,"checkProposal",s)},expression:"item.checkProposal"}})],1)])}),0)])]):t._e(),2==t.resultType?s("el-form",{key:"2-1",staticClass:"default-form-style",staticStyle:{overflow:"hidden"},attrs:{size:"small","label-width":"auto"}},t._l(t.smallProjectData,function(e){return s("el-row",{key:e.projectId},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"项目名称："}},[t._v("\n          "+t._s(e.pname)+"\n        ")])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"检查部位："}},[s("el-input",{attrs:{placeholder:"请输入"},model:{value:e.checkPart,callback:function(s){t.$set(e,"checkPart",s)},expression:"item.checkPart"}})],1)],1)],1)}),1):t._e(),2==t.resultType?s("div",{key:"2-2",staticClass:"checkmain"},[s("div",{staticClass:"checkmain"},[t._v("检查结论：")]),s("div",{staticClass:"jlmain",on:{click:t.addList}},t._l(t.conclusionslist,function(e,a){return s("div",{key:a,staticClass:"flex"},[s("label",{directives:[{name:"show",rawName:"v-show",value:t.conclusionslist.length>1,expression:"conclusionslist.length>1"}],staticClass:"project-label"},[t._v("\n          "+t._s(e.pname||e.projectName)+"：\n        ")]),s("el-input",{ref:"textarea1",refInFor:!0,staticClass:"flex-item",attrs:{type:"textarea",autosize:{minRows:1},autofocus:0===a,resize:"none"},on:{change:function(s){return t.checkEvent(s,e)}},nativeOn:{click:function(t){t.stopPropagation()}},model:{value:e.checkConclusion,callback:function(s){t.$set(e,"checkConclusion",s)},expression:"t.checkConclusion"}})],1)}),0)]):t._e(),2==t.resultType?s("div",{key:"2-3",staticClass:"checkmain"},[s("div",{staticClass:"checkmaintitle"},[t._v("诊断意见或印象：")]),s("div",{staticClass:"jlmain",on:{click:function(e){t.$nextTick(function(){return t.$refs["textarea2"][0].focus()})}}},t._l(t.conclusionslist,function(e,a){return s("div",{key:a,staticClass:"flex"},[s("label",{directives:[{name:"show",rawName:"v-show",value:t.conclusionslist.length>1,expression:"conclusionslist.length>1"}],staticClass:"project-label"},[t._v("\n          "+t._s(e.pname||e.projectName)+"：\n        ")]),s("el-input",{ref:"textarea2",refInFor:!0,staticClass:"flex-item",attrs:{type:"textarea",autosize:{minRows:1},resize:"none"},on:{change:function(e){t.isIO=!0}},nativeOn:{click:function(t){t.stopPropagation()}},model:{value:e.checkProposal,callback:function(s){t.$set(e,"checkProposal",s)},expression:"t.checkProposal"}})],1)}),0)]):t._e(),3==t.resultType?s("el-table",{key:"3",ref:"multipleTable",attrs:{stripe:"",data:t.smallProjectData,"tooltip-effect":"dark","header-cell-class-name":"custom-table-cell"}},[s("el-table-column",{attrs:{align:"center",label:"小项名称",prop:"name",width:"200","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.pname||e.row.projectName)+"\n      ")]}}],null,!1,2649804952)}),s("el-table-column",{attrs:{align:"center",label:"结果"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{ref:"vIpt-3-"+e.$index,staticClass:"inputjieguo",attrs:{placeholder:"请输入",size:"small",tabindex:"1"},on:{change:function(s){return t.checkEvent(s,e.row)}},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.handleEnter(e.$index,e.row.checkValue,"vIpt-3-")}},model:{value:e.row.checkValue,callback:function(s){t.$set(e.row,"checkValue",s)},expression:"scope.row.checkValue"}})]}}],null,!1,2145492219)}),s("el-table-column",{attrs:{width:"80",label:"阳性","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-checkbox",{staticClass:"green",attrs:{"true-label":"2","false-label":"1"},model:{value:e.row.nature,callback:function(s){t.$set(e.row,"nature",s)},expression:"scope.row.nature"}})]}}],null,!1,4158121306)})],1):t._e(),3==t.resultType?s("div",{key:"3-1",staticClass:"checkmain"},[s("div",{staticClass:"checkmain"},[t._v("检查结论：")]),s("div",{staticClass:"jlmain"},[s("div",{staticClass:"jlcentent"},t._l(t.conclusionslist,function(e,a){return s("div",{key:a,staticClass:"flex"},[s("div",{staticClass:"project-label"},[t._v(t._s(e.pname||e.projectName)+"：")]),s("div",{staticClass:"flex-item"},[s("el-input",{ref:"textarea1",refInFor:!0,staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:1},resize:"none",tabindex:"1"},on:{change:function(e){t.isIO=!0}},model:{value:e.checkConclusion,callback:function(s){t.$set(e,"checkConclusion",s)},expression:"item.checkConclusion"}})],1)])}),0)])]):t._e(),3==t.resultType?s("div",{key:"3-2",staticClass:"checkmain"},[s("div",{staticClass:"checkmaintitle"},[t._v("诊断意见或印象：")]),s("div",{staticClass:"jlmain"},[s("div",{staticClass:"jlcentent"},t._l(t.conclusionslist,function(e,a){return s("div",{key:a,staticClass:"flex"},[s("div",{staticClass:"project-label"},[t._v(t._s(e.pname||e.projectName)+"：")]),s("div",{staticClass:"flex-item"},[s("el-input",{ref:"textarea2",refInFor:!0,staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:1},resize:"none",tabindex:"1"},on:{change:function(e){t.isIO=!0}},model:{value:e.checkProposal,callback:function(s){t.$set(e,"checkProposal",s)},expression:"item.checkProposal"}})],1)])}),0)])]):t._e()],1)}),n=[],c=(s("20d6"),s("c5f6"),{name:"trialpresonprefected",props:{smallProjectData:{type:Array,default:function(){return[]}},resultType:{type:String,default:""},editType:{type:Number,default:0},maxIndex:{type:String,default:""}},data:function(){return{multipleSelection:[],conclusionslist:[],isShow:"",isIO:!1}},methods:{addList:function(){var t=this;if(this.conclusionslist.length)this.$refs["textarea1"][0].focus();else{var e=JSON.parse(JSON.stringify(this.smallProjectData));this.conclusionslist=e.map(function(t){return t.checkConclusion=t.checkConclusion||"",t.checkProposal=t.checkProposal||"",t}),this.$nextTick(function(){return t.$refs["textarea1"][0].focus()})}},checkEvent:function(t,e){var s=this;if(this.isChange=!0,""!==t.trim()){var a="/sys/projectItemResult/getProjectResult",l=e.projectId,i=e.resultType;this.$post(a,{projectId:l,resultType:i,inputValue:t}).then(function(a){var l=a.data;if(2==i)e.checkProposal=l.checkProposal,e.diseaseType=l.diseaseType,e.checkWaring=l.checkWaring;else{l.checkValue=t,l.pname=e.pname||e.projectName;var n=s.conclusionslist.findIndex(function(t){return t.projectId===l.projectId});n>-1?s.conclusionslist.splice(n,1,l):s.conclusionslist.push(l)}s.isChange=!1,s.isSubmit&&s.$nextTick(function(){return s.$refs.textarea1[0].focus()})}).catch(function(t){s.$message.error(t)}),this.isIO=!0}},handleEnter:function(t,e,s){var a=this;if(this.isSubmit=!1,e.trim()){for(var l=this.smallProjectData.length,i=0;i<t;i++)if(0!==t){var n=this.$refs[s+i];if(!n.value.trim())return n.focus()}if(t===l-1)return this.isChange?this.isSubmit=!0:this.$nextTick(function(){return a.$refs.textarea1[0].focus()});this.$refs[s+(t+1)].focus()}}},destroyed:function(){sessionStorage.setItem(this.maxIndex,JSON.stringify(this.conclusionslist))},watch:{maxIndex:{handler:function(t,e){this.isIO=!1,e&&(this[e]=this.conclusionslist);var s=JSON.parse(sessionStorage.getItem(t))||[];this.conclusionslist=this.editType?JSON.parse(JSON.stringify(this.smallProjectData)):this[t]?this[t]:s,sessionStorage.removeItem(t)},immediate:!0}}}),o=c,r=(s("131d"),s("2877")),u=Object(r["a"])(o,i,n,!1,null,"5fe9d14b",null),d=u.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[1==t.resultType?s("el-table",{ref:"multipleTable",attrs:{stripe:"",data:t.smallProjectData,"tooltip-effect":"dark","header-cell-class-name":"custom-table-cell"}},[s("el-table-column",{attrs:{align:"center",label:"小项名称",prop:"pname","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{align:"center",label:"结果"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"sizecolor"},[t._v(t._s(e.row.checkValue))])]}}],null,!1,3425987906)}),s("el-table-column",{attrs:{align:"center",label:"单位","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",[t._v(t._s(e.row.projectSymbol))])]}}],null,!1,3654069698)}),s("el-table-column",{attrs:{align:"center",prop:"rule",label:"规则","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{width:"55",label:"阳性","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(t){return[s("el-checkbox",{attrs:{checked:2==t.row.nature,disabled:""}})]}}],null,!1,1030256564)})],1):t._e(),3==t.resultType?s("el-table",{ref:"multipleTable",attrs:{stripe:"",data:t.smallProjectData,"tooltip-effect":"dark","header-cell-class-name":"custom-table-cell"}},[s("el-table-column",{attrs:{align:"center",label:"小项名称",prop:"pname","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{align:"center",label:"结果"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"sizecolor"},[t._v(t._s(e.row.checkValue))])]}}],null,!1,3425987906)}),s("el-table-column",{attrs:{label:"阳性","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(t){return[s("el-checkbox",{attrs:{checked:2==t.row.nature,disabled:""}})]}}],null,!1,1030256564)})],1):t._e(),1==t.resultType||3==t.resultType?s("div",{staticClass:"checkmain "},[s("div",{staticClass:"checkmaintitle"},[t._v("检查结论：")]),s("div",{staticClass:"jl-list flex",staticStyle:{"flex-direction":"column"}},t._l(t.smallProjectData,function(e,a){return s("div",{key:a,staticStyle:{"line-height":"32px"}},[t._v(t._s(e.pname)+"："+t._s(e.checkConclusion))])}),0)]):t._e(),1==t.resultType||3==t.resultType?s("div",{staticClass:"checkmain "},[s("div",{staticClass:"checkmaintitle"},[t._v("诊断意见或印象：")]),s("div",{staticClass:"jl-list flex",staticStyle:{"flex-direction":"column"}},t._l(t.smallProjectData,function(e,a){return s("div",{key:a,staticStyle:{"line-height":"32px"}},[t._v(t._s(e.pname)+"："+t._s(e.checkProposal))])}),0)]):t._e(),2==t.resultType?s("div",{staticClass:"checkmain flex",staticStyle:{"padding-bottom":"0"}},[s("div",{staticClass:"checkmaintitle"},[t._v("项目名称：")]),t._l(t.smallProjectData,function(e,a){return s("div",{key:a,staticStyle:{"line-height":"21px",flex:"1"}},[t._v(t._s(e.pname))])})],2):t._e(),2==t.resultType?s("div",{staticClass:"checkmain flex",staticStyle:{"padding-bottom":"0"}},[s("div",{staticClass:"checkmaintitle"},[t._v("检查结论：")]),t._l(t.smallProjectData,function(e,a){return s("div",{key:a,staticStyle:{"line-height":"21px",flex:"1"}},[t._v(t._s(e.checkConclusion))])})],2):t._e(),2==t.resultType?s("div",{staticClass:"checkmain flex",staticStyle:{"padding-bottom":"0"}},[s("div",{staticClass:"checkmaintitle"},[t._v("诊断意见或印象：")]),t._l(t.smallProjectData,function(e,a){return s("div",{key:a,staticStyle:{"line-height":"21px",flex:"1"}},[t._v(t._s(e.checkProposal))])})],2):t._e()],1)},h=[],m={name:"trialpresonprefected",props:{smallProjectData:{type:Array,default:function(){return[]}},resultType:{type:String,default:""},maxIndex:{type:String,default:""}},data:function(){return{conclusionslist:[]}},watch:{maxIndex:{handler:function(t){this.conclusionslist=this.smallProjectData},immediate:!0}}},f=m,v=(s("1435"),Object(r["a"])(f,p,h,!1,null,"3afdd5fe",null)),b=v.exports,k=s("b279"),y={name:"trialpresonprefected",components:{trialedit:d,trialprefected:b},data:function(){return{checkstatus:"",resultType:"",editType:0,currentTabComponent:"trialprefected",examUserId:"",centerDialogtbdata:!1,ponserData:{},departmentData:"",sportsData:[],smallProjectData:[],totlesmalldata:[],defaultactive:"0-0",projectIndex:"0-0",keshiindex:0,count:0,totalData:[],saveLoading:!1}},computed:{historyDisease:function(){var t=this;if(!Object.keys(this.ponserData).length)return"";var e=[];return["historyIllnessJson","historyOperationJson","historyTransfusionJson","historyTraumaJson"].forEach(function(s){try{var a=JSON.parse(t.ponserData[s]);e=e.concat(a.map(function(t){return t.name}))}catch(l){}}),e.join("/")},isShowExamBtn:function(){if(!this.totalData.length)return!1;var t=this.ponserData.examStatus,e=1==t||4==t,s=this.totalData.every(function(t){return t.isAllCheck});return e&&s&&"trialprefected"===this.currentTabComponent}},filters:{getBoxType:function(t){var e=Object(k["a"])(t),s=e.nameList;return s?s.join("/"):"未分配"}},created:function(){this.examUserId=this.$route.query.examUserId,this.checkstatus=this.$route.query.status,this.getData()},destroyed:function(){sessionStorage.clear()},methods:{getData:function(){var t=this,e="/sys/project/getShowExam",s={sysGuid:this.examUserId};this.$post(e,s).then(function(e){var s=e.data;t.ponserData=s.user;var a=s.depts,l=s.bigProject,i=s.smallProject;t.smallProjectData=i,t.totalData=a.map(function(t){var e={dname:t.dname,sysGuid:t.sysGuid,bigProject:[]};return l.forEach(function(s){if(t.sysGuid===s.deptId){e.bigProject.push(s);var a=function(){for(var t,e=0;t=i[e++];)if(s.sysGuid===t.parentId&&1!=t.isCheck)return!1;return!0}();s.isAllCheck=a}}),e.isAllCheck=e.bigProject.every(function(t){return t.isAllCheck}),e});var n=t.totalData[0].bigProject[0];t.resultType=n.resultType,t.getsportsData(n.sysGuid,n.isAllCheck)}).catch(function(e){e&&t.$message.error(e)})},getsportsData:function(t,e){var s=this;this.totlesmalldata=[],this.smallProjectData.forEach(function(e,a){t==e.parentId&&s.totlesmalldata.push(e)}),e?(this.checkstatus=1,this.currentTabComponent="trialprefected"):(this.checkstatus=0,this.editType=0,this.currentTabComponent="trialedit")},clickmenuevent:function(t,e,s,a,l){this.defaultactive="".concat(t,"-").concat(e),this.projectIndex="".concat(t,"-").concat(e),this.resultType=a,this.keshiindex=t,this.count=e,this.getsportsData(s,l)},syncData:function(){this.$router.push({path:"/Synchronousdata",query:{}})},editevent:function(){this.checkstatus=0,this.editType=1,this.currentTabComponent="trialedit"},submitSave:function(){var t=this;this.totlesmalldata.forEach(function(e){e.isCheck="1",e.flow="1",t.$refs.conclusionslist.conclusionslist.forEach(function(t){e.projectId==t.projectId&&(e.checkConclusion=t.checkConclusion,e.checkProposal=t.checkProposal,e.diseaseType=t.diseaseType,e.checkResult=t.checkProposal,e.checkWaring=t.checkWaring)})});var e="/dev/examUserProjectItem/addExamData";this.saveLoading=!0,this.$post(e,this.totlesmalldata,"json").then(function(e){t.saveLoading=!1,t.currentTabComponent="trialprefected",t.checkstatus=1;var s=t.totalData[t.keshiindex],a=s.bigProject[t.count];a.isAllCheck=!0,s.isAllCheck=s.bigProject.every(function(t){return t.isAllCheck}),t.totalData.splice(t.keshiindex,1,s)}).catch(function(e){t.saveLoading=!1,t.$message.error(e)})},audit:function(){var t=this;if(!this.totalData.every(function(t){return t.isAllCheck}))return this.$message.warning("还有未检项目！");this.$confirm("",{title:"确定要审核？",showClose:!1,customClass:"msg-box"}).then(function(e){var s="/dev/examUserProjectItem/getCheck",a={examUserId:t.examUserId};t.$post(s,a).then(function(e){t.$message.success(e.data),t.$router.push({path:"/FirstTrial"})}).catch(function(e){t.$message.error(e)})}).catch(function(t){return t})}}},C=y,x=(s("6b4f"),Object(r["a"])(C,a,l,!1,null,"8473b1ce",null));e["default"]=x.exports},8678:function(t,e,s){},"8a02":function(t,e,s){},cd1c:function(t,e,s){var a=s("e853");t.exports=function(t,e){return new(a(t))(e)}},e853:function(t,e,s){var a=s("d3f4"),l=s("1169"),i=s("2b4c")("species");t.exports=function(t){var e;return l(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!l(e.prototype)||(e=void 0),a(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},ee27:function(t,e,s){}}]);
//# sourceMappingURL=chunk-1c87ded8.e5ae1201.js.map