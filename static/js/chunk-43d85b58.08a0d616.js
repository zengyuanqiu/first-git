(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43d85b58"],{"146d":function(e,t,a){},"1d89":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAADL0lEQVRIiZ2VP6idRRDFf4e7795CUBCUF2KE50sRBAWFoAGtBEEMNnYWYikSG0sLK4tUQYgiWIiVBEQtnhAbC0EiGItXv8JOFBFCilxQzB6L2T/zXVP5Nffu7uycmTNnZnVw8u79wFXgVeA+/t/3D3ATeAs43j0seHUV8boNiF8xf0lx6B1jtT0ZrG4hgDOYCxLXDWeBO91GQKmsLoJAvAIc0S7b3W0HMHWs+3mzEQ+Db9g6BD+L9F0EYwwUe+9B8J9CRzny7kRqGdkYgdqvTWQsMH8YLgMvCm7ZAVAVuRezB/Y20+Mg5gzoKdubTtOgakQiPFe3gS+AQ8Mh6LbhB8y2mAL5YgC8DVwBygBXc6qZ5oJRL+toCap/Ay4Wez1AGjWPyL4CKlYUVsNpGMxKBZ7suDyF0NFOAR+V6r0eZi/2k8YlAlYvc05nEbEgBGGn05yezkcmy5w1oha4aVtEtHYorUMYY0W2FS2ybN+q1AHSUu4RSVAboqD2yofTr7G/BSHxns3p7rEumisCLNWbIVM1RzU4IKsKZhPK/AT+BItqLqEA0X/9g6GYzeiJIUcHqgeLnmt3iYe9IKJSE52S98Z+sde9L3bUqNGx7KyVSlyTz355eovNctcb4B7UzADBvgY6rpOM7xM1H2AeSkS9YTi3qIkbiAew57oOlR2BP8/dF38N1qfLUarnEefAwVwUfh0zrmagltkU3HSRa1XDMI+abi+3/pEpZg2VVZUacnjvXLe994F3ZtH9IeazZn0txntvaJ3FboGE9kutm7uIU5jHjH/pRQvVtElqDiQOBk32fpu+gB8HnuhiGB2f0i+VvZ9lPWP4UXDZcJLEOQdfqteiIxaDcd7LPVPw+s0K14F90AvGJ+rjo5MtDSdToqNK88VkSryO4opSWR9jDoHnDFvggR70aC73kdAP9BrwdJvSj84W6U2b7A0qN2/tJMfLwDeTBOUBnr5EzT1YzLmFuvKTJ/09jPKUGe+IEjRMkhrK4t02wLZUr4bPhnND5nek/TywYhr0UZ5UlHNKthrzz18WXBaPmeEO8BLmY8R5YJWbMVV5Xup3lcvGFvgKuPQv8WHfKjqAI4QAAAAASUVORK5CYII="},"20fd":function(e,t,a){"use strict";var i=a("d9f6"),s=a("aebd");e.exports=function(e,t,a){t in e?i.f(e,t,s(0,a)):e[t]=a}},3861:function(e,t,a){"use strict";var i=a("146d"),s=a.n(i);s.a},"549b":function(e,t,a){"use strict";var i=a("d864"),s=a("63b6"),l=a("241e"),o=a("b0dc"),n=a("3702"),r=a("b447"),d=a("20fd"),c=a("7cd6");s(s.S+s.F*!a("4ee1")(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,s,u,f=l(e),p="function"==typeof this?this:Array,m=arguments.length,b=m>1?arguments[1]:void 0,g=void 0!==b,h=0,v=c(f);if(g&&(b=i(b,m>2?arguments[2]:void 0,2)),void 0==v||p==Array&&n(v))for(t=r(f.length),a=new p(t);t>h;h++)d(a,h,g?b(f[h],h):f[h]);else for(u=v.call(f),a=new p;!(s=u.next()).done;h++)d(a,h,g?o(u,b,[s.value,h],!0):s.value);return a.length=h,a}})},"54a1":function(e,t,a){a("6c1c"),a("1654"),e.exports=a("95d5")},7028:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page flex-v"},[i("div",{staticClass:"head flex-v-center flex-justify"},[i("div",{staticClass:"head-title"},[e._v("项目维护")]),e.btns.hasInsert?i("div",{staticClass:"head-btn",attrs:{"data-btn-id":"106005002"},on:{click:function(t){return e.openDialog("insert")}}},[i("img",{attrs:{src:a("1d89"),alt:"新增"}}),e._v(" "),i("span",[e._v("新增")])]):e._e()]),i("div",{staticClass:"query-form"},[i("el-form",{staticClass:"default-form-style",attrs:{inline:"",size:"small"}},[i("el-form-item",{attrs:{label:"项目名称："}},[i("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.querys.pname,callback:function(t){e.$set(e.querys,"pname",t)},expression:"querys.pname"}})],1),i("el-form-item",{attrs:{label:"所属机构名称："}},[i("el-select",{attrs:{clearable:""},model:{value:e.querys.createOrganizationId,callback:function(t){e.$set(e.querys,"createOrganizationId",t)},expression:"querys.createOrganizationId"}},e._l(e.orgList,function(e){return i("el-option",{key:e.sysGuid,attrs:{value:e.sysGuid,label:e.oname}})}),1)],1),i("el-form-item",[i("el-button",{attrs:{icon:"el-icon-search",round:""},on:{click:function(t){return e.$refs.pagination.initPageList(1)}}},[e._v("查询")])],1),i("el-form-item",{staticStyle:{float:"right","margin-right":"0"},attrs:{label:"显示状态："}},[i("el-radio-group",{staticClass:"red",on:{change:function(t){return e.$refs.pagination.initPageList(1)}},model:{value:e.querys.enabled,callback:function(t){e.$set(e.querys,"enabled",t)},expression:"querys.enabled"}},[i("el-radio",{attrs:{label:""}},[e._v("全部")]),i("el-radio",{attrs:{label:"1"}},[e._v("已启用")]),i("el-radio",{attrs:{label:"2"}},[e._v("已禁用")])],1)],1)],1)],1),i("div",{staticClass:"table-box flex-item"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,height:"100%","header-cell-class-name":"custom-table-cell",stripe:""}},[i("el-table-column",{attrs:{label:"序号",type:"index"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.$index;return[e._v("\n          "+e._s(a+(e.pageNum-1)*e.pageSize+1)+"\n        ")]}}])}),i("el-table-column",{attrs:{label:"机构名称",prop:"oname","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"项目顺序",prop:"sortNum",width:"100"}}),i("el-table-column",{attrs:{label:"项目编号",prop:"sysGuid","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"项目名称",prop:"pname","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"科室状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[i("span",{class:[1==t.enabled?"status-enable":"status-disable"]})]}}])}),i("el-table-column",{attrs:{label:"创建人员",prop:"createUserName","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"创建日期",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(e._f("formatDate")(a.createDate))+"\n        ")]}}])}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("i",{staticClass:"iconfont bj-search",on:{click:function(t){return e.openDialog("see",a)}}}),e.handleBtnShow(a,"hasUpdate")?i("i",{staticClass:"iconfont bj-edit",attrs:{"data-btn-id":"106005003"},on:{click:function(t){return e.openDialog("update",a)}}}):e._e(),e.handleBtnShow(a,"hasDel")?i("i",{staticClass:"iconfont bj-delete",attrs:{"data-btn-id":"106005004"},on:{click:function(t){return e.delConfirm(a)}}}):e._e()]}}])})],1)],1),i("div",{staticClass:"foot"},[i("bj-pagination",{ref:"pagination",attrs:{queryUrl:"/sys/project/listPaging",queryObj:e.querys},on:{listResult:e.getListResult,controlLoading:function(t){e.loading=t}}})],1),i("el-dialog",{staticClass:"flex",attrs:{visible:e.dialogIsShow,"custom-class":"my-dialog",width:"500px",title:e.dialogTitles[e.dialogType],"close-on-click-modal":!1,center:""},on:{"update:visible":function(t){e.dialogIsShow=t}}},["see"===e.dialogType?[i("div",{staticClass:"flex"},[i("el-form",{staticClass:"see-style",attrs:{size:"small","label-width":"auto"}},[i("el-form-item",{attrs:{label:"机构名称："}},[e._v("\n            "+e._s(e.dataInfo.oname)+"\n          ")]),i("el-form-item",{attrs:{label:"科室名称："}},[e._v("\n            "+e._s(e.dataInfo.deptName)+"\n          ")]),i("el-form-item",{attrs:{label:"项目名称："}},[e._v("\n            "+e._s(e.dataInfo.pname)+"\n          ")]),i("el-form-item",{attrs:{label:"项目编号："}},[e._v("\n            "+e._s(e.dataInfo.sysGuid)+"\n          ")]),i("el-form-item",{attrs:{label:"项目顺序："}},[e._v("\n            "+e._s(e.dataInfo.sortNum)+"\n          ")]),i("el-form-item",{attrs:{label:"结果类型："}},[e._v("\n            "+e._s(1==e.dataInfo.resultType?"数值型":2==e.dataInfo.resultType?"文本型(医技检查)":"文本型(科室检查)")+"\n          ")]),i("el-form-item",{attrs:{label:"拼音简码："}},[e._v("\n            "+e._s(e.dataInfo.pySimpleCode)+"\n          ")]),i("el-form-item",{attrs:{label:"五笔简码："}},[e._v("\n            "+e._s(e._f("emptyData")(e.dataInfo.wbSimpleCode))+"\n          ")]),i("el-form-item",{attrs:{label:"状态："}},[e._v("\n            "+e._s(1==e.dataInfo.enabled?"启用":"禁用")+"\n          ")])],1)],1),e.btns.hasUpdate?i("div",{attrs:{slot:"footer","data-btn-id":"106005003"},slot:"footer"},[i("el-button",{staticClass:"btn-info",on:{click:function(t){return e.openDialog("update")}}},[e._v("修改")])],1):e._e()]:[i("el-form",{ref:"form",attrs:{size:"small","label-width":"auto",model:e.formFields,rules:e.rules}},[i("el-form-item",{attrs:{label:"科室名称：",prop:"deptId"}},["update"===e.dialogType?i("el-input",{attrs:{disabled:"",value:e.dataInfo.deptName}}):i("el-select",{staticClass:"block ctrl-height",attrs:{disabled:"update"===e.dialogType},model:{value:e.formFields.deptId,callback:function(t){e.$set(e.formFields,"deptId",t)},expression:"formFields.deptId"}},e._l(e.deptList,function(e){return i("el-option",{key:e.sysGuid,attrs:{value:e.sysGuid,label:e.dname}})}),1)],1),i("el-form-item",{attrs:{label:"项目名称：",prop:"pname"}},[i("el-input",{attrs:{placeholder:"请输入",maxlength:"51",disabled:"update"===e.dialogType},model:{value:e.formFields.pname,callback:function(t){e.$set(e.formFields,"pname",t)},expression:"formFields.pname"}})],1),i("el-form-item",{attrs:{label:"项目顺序：",prop:"sortNum"}},[i("el-input",{attrs:{placeholder:"请输入",value:e.formFields.sortNum,maxlength:"5"},on:{input:function(t){return e.$outInt(t,"sortNum",e.formFields)}}})],1),i("el-form-item",{attrs:{label:"结果类型：",prop:"resultType"}},[i("el-select",{staticClass:"block",model:{value:e.formFields.resultType,callback:function(t){e.$set(e.formFields,"resultType",t)},expression:"formFields.resultType"}},[i("el-option",{attrs:{value:"1",label:"数值型"}}),i("el-option",{attrs:{value:"2",label:"文本型(医技检查)"}}),i("el-option",{attrs:{value:"3",label:"文本型(科室检查)"}})],1)],1),i("el-form-item",{attrs:{label:"拼音简码：",prop:"pySimpleCode"}},[i("el-input",{attrs:{placeholder:"请输入",maxlength:"51"},model:{value:e.formFields.pySimpleCode,callback:function(t){e.$set(e.formFields,"pySimpleCode",t)},expression:"formFields.pySimpleCode"}})],1),i("el-form-item",{attrs:{label:"五笔简码：",prop:"wbSimpleCode"}},[i("el-input",{attrs:{placeholder:"请输入",maxlength:"51"},model:{value:e.formFields.wbSimpleCode,callback:function(t){e.$set(e.formFields,"wbSimpleCode",t)},expression:"formFields.wbSimpleCode"}})],1),i("el-form-item",{attrs:{label:"状态：",prop:"enabled"}},[i("el-select",{staticClass:"block",model:{value:e.formFields.enabled,callback:function(t){e.$set(e.formFields,"enabled",t)},expression:"formFields.enabled"}},[i("el-option",{attrs:{value:"1",label:"启用"}}),i("el-option",{attrs:{value:"2",label:"禁用"}})],1)],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"btn-hollowing",on:{click:function(t){e.dialogIsShow=!1}}},[e._v("取消")]),i("el-button",{staticClass:"btn-info",attrs:{loading:e.submitLoading},on:{click:e.onSubmit}},[e._v("保存")])],1)]],2)],1)},s=[],l=a("cebc"),o=(a("456d"),a("ac6a"),a("75fc")),n=a("b279"),r=a("2f62"),d="1",c={name:"ProjectList",data:function(){var e=this.$store.getters.o_userinfo.orgGuid;return{tableData:[],querys:{pname:"",enabled:"",createOrganizationId:e,projectType:d},pageNum:1,pageSize:10,formFields:{deptId:"",pname:"",sortNum:"",pySimpleCode:"",wbSimpleCode:"",enabled:"1",resultType:"",projectType:d},rules:{organizationGuid:{required:!0,message:"请选择所属机构"},deptId:{required:!0,message:"请选择所属科室"},sortNum:{required:!0,message:"请输入项目顺序",trigger:"blur"},pname:[{required:!0,message:"请输入项目名称",trigger:"blur",whitespace:!0}].concat(Object(o["a"])(Object(n["i"])())),pySimpleCode:[{required:!0,message:"请输入拼音简码",trigger:"blur",whitespace:!0}].concat(Object(o["a"])(Object(n["i"])())),resultType:[{required:!0,message:"请选择结果类型",trigger:"change"}],wbSimpleCode:{max:50,message:"最多输入50个字符"}},dataInfo:{},deptList:[],dialogIsShow:!1,dialogType:"",loading:!0,submitLoading:!1}},created:function(){this.initStatic()},methods:{initStatic:function(){this.dialogTitles={see:"查看",insert:"新增",update:"修改"}},getListResult:function(e){var t=e.list,a=e.pageNum,i=e.pageSize;this.tableData=t,this.pageNum=a,this.pageSize=i},delConfirm:function(e){var t=this,a=e.sysGuid;this.$confirm("",{title:"确定删除记录？",showClose:!1,customClass:"msg-box"}).then(function(e){t.$post("/sys/project/remove",{sysGuid:a}).then(function(e){if(t.$message.success("删除成功"),1===t.tableData.length){var a=t.pageNum>1?t.pageNum--:t.pageNum;t.$refs.pagination.initPageList(a)}else t.$refs.pagination.initPageList()}).catch(function(e){t.$alert("原因：".concat(e),"删除失败",{showClose:!1,customClass:"msg-box danger"})})}).catch(function(e){return e})},openDialog:function(e,t){var a=this;this.getDept(),this.dialogIsShow=!0,this.dialogType=e,t?(this.dataInfo=t,Object.keys(this.formFields).forEach(function(e){a.formFields[e]=t[e]}),this.formFields.sysGuid=t.sysGuid):"insert"===e&&(Object.keys(this.formFields).forEach(function(e){"projectType"!==e&&(a.formFields[e]="")}),this.formFields.enabled="1"),this.$nextTick(function(e){"see"!==a.dialogType&&a.$refs.form.clearValidate()})},onSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(t){e.submitLoading=!0;var a="/sys/project/".concat(e.dialogType),i=e.dialogTitles[e.dialogType];e.$post(a,e.formFields).then(function(t){e.submitLoading=!1,e.dialogIsShow=!1,e.$refs.pagination.initPageList(),e.$message.success("".concat(i,"成功"))}).catch(function(t){e.submitLoading=!1,e.$message.error(t)})}})},getDept:function(e){var t=this;this.deptList.length||this.$post("/sys/dept/listPaging",{pageNum:"1",pageSize:"10000",enabled:"1",organizationGuid:this.orgGuid}).then(function(e){var a=e.data;a&&(t.deptList=a.list)}).catch(function(e){return t.$message.error(e)})},handleBtnShow:function(e,t){var a=e.organizationGuid,i=e.enabled,s=a===this.orgGuid,l=1==i;return s&&l&&this.btns[t]}},computed:Object(l["a"])({btns:function(){var e=this.$store.state.btnAuthorityIds;return{hasStatus:~e.indexOf("106005001"),hasInsert:~e.indexOf("106005002"),hasUpdate:~e.indexOf("106005003"),hasDel:~e.indexOf("106005004")}},orgGuid:function(){return this.$store.getters.o_userinfo.orgGuid}},Object(r["c"])(["orgList"]))},u=c,f=(a("3861"),a("2877")),p=Object(f["a"])(u,i,s,!1,null,"e36a74f2",null);t["default"]=p.exports},"75fc":function(e,t,a){"use strict";var i=a("a745"),s=a.n(i);function l(e){if(s()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var o=a("774e"),n=a.n(o),r=a("c8bb"),d=a.n(r);function c(e){if(d()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return n()(e)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(e){return l(e)||c(e)||u()}a.d(t,"a",function(){return f})},"774e":function(e,t,a){e.exports=a("d2d5")},"95d5":function(e,t,a){var i=a("40c3"),s=a("5168")("iterator"),l=a("481b");e.exports=a("584a").isIterable=function(e){var t=Object(e);return void 0!==t[s]||"@@iterator"in t||l.hasOwnProperty(i(t))}},c8bb:function(e,t,a){e.exports=a("54a1")},d2d5:function(e,t,a){a("1654"),a("549b"),e.exports=a("584a").Array.from}}]);
//# sourceMappingURL=chunk-43d85b58.08a0d616.js.map