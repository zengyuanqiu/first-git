(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b51dff4"],{"15df":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAADHklEQVRIiZ2VO4xNURSGv2XOvTOFeAwlYiI0ptN6XGIKFEgUChojipGQIAqJRCUKIVELhUhoPBqVREh0IhKJCEMiU3sWQjH7l/08+8zcysl97LPPOuvxr3/92yY+XCBdK4AbwH5gGf93/QIeA6eAH95DI42AGUh3gd0YtxA/sQUBBH7PwrL+7TxfDhwzsUrGvhiAEZANgL0GZySux3iVc2s9LNpXeYJkPtcPgmuSdgDPbd37y2B6htiEsQHsj/fSyXFYNdm/r0rRLm2PYcwCHw12NqIZIHwFLxCnOz7qbIdc2aZjFm8+AQPBoJF6Z5PBdsO2x0wsJa30m0pIlXXAD3CGMvwn44mi7bnG0Z/yD7xNzsj3wKly1HGWtmvk1PYsvJaqkjHVSP1RVS9kg/IiCx1ZaCgpqRofLfhH9H2A0kylNFVAietOywvmNdWsct1G9avGabSbJSy6z9bOUxh+SUwDaxhm10UUW/32QQ1OpB2LS0/NfYe0WWYjJvYCJ4A94Kd1SDjva/ztE7Go0thpk6pilSd+q8HLgJBnm1gr0zSyUFVMRIVZjXP98B5qHYWMHbikDSb+ynQXcR/xqliGhjOHuASslnEyEMC1jGzEaKRkckqezhzT8dSw46AvNX4qjArRdoBmMsva6TdfwWg78xWXUsx7wBHBfOZ2mYu27KVydjvpBYnEyU6xgnrcreX+rGDaYL7qt2X2IObSxhVgQguMlJw08+qnuBXFQhBdBfvtYQQdAjsM2iZsPGq+Dhg2cDDTnaJUQcrUxl5/VtH6atyBjWn5CGOyo2jGdxPrgTeCCRJiRWpSQDOjkeu3ul5Jg4yviBcGk7ncaj5WSjyUMZF1zBOkQ45IJn+i9cITmQpUzkeXHZQ0qYKddfskdrV6pMKowoF0AHk17eBSCdZMLcu1fAzR/zKfuculyaL3TWK8nE6t/ZY8MPkIraUsY54Kb5MI1SU0pG9L5Jo7nigukKXBhW8PuV7co0GK/8WOXtxTtPHr8vX39JJt72YjGzkvmW/4UQcrcyNdblhXgcMiSEh7diXc6w7zXcYdiYv/AJu/xRAxoAjTAAAAAElFTkSuQmCC"},"4e90":function(t,e,a){"use strict";var s=a("a8fc"),i=a.n(s);i.a},a8fc:function(t,e,a){},c8c4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page trialpreson flex-v medicalrecord"},[a("div",{staticClass:"headertitle flex"},[a("el-breadcrumb",{staticClass:"my-breadcrumb ",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{name:"ReportForm"}}},[t._v("报表分布图")]),a("el-breadcrumb-item",{attrs:{to:{name:"ReportForm"}}},[t._v("体检记录-"+t._s(t.texttitle))])],1),a("div",{staticClass:"flex rightbtn"},[a("div",{staticClass:"marginright50",staticStyle:{"font-size":"16px"},on:{click:t.exportFile}},[t._m(0),t._v(" 导出\n      ")])])],1),a("div",{staticClass:"query-form"},[a("el-form",{staticClass:"default-form-style",attrs:{inline:"",model:t.queryObj,size:"small"}},[a("el-form-item",{attrs:{label:"登记日期："}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":{disabledDate:function(t){return t>new Date}},"unlink-panels":"",clearable:""},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),a("el-form-item",{attrs:{label:"机构名称："}},[a("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:t.queryObj.createOrganizationId,callback:function(e){t.$set(t.queryObj,"createOrganizationId",e)},expression:"queryObj.createOrganizationId"}},t._l(t.orgList,function(t,e){return a("el-option",{key:e,attrs:{label:t.oname,value:t.sysGuid}})}),1)],1),a("el-form-item",{attrs:{label:"类别："}},[a("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:t.queryObj.personType,callback:function(e){t.$set(t.queryObj,"personType",e)},expression:"queryObj.personType"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"普通居民",value:"1"}}),a("el-option",{attrs:{label:"儿童",value:"2"}}),a("el-option",{attrs:{label:"老年人",value:"4"}}),a("el-option",{attrs:{label:"孕妇 ",value:"8"}}),a("el-option",{attrs:{label:"高血压",value:"16"}}),a("el-option",{attrs:{label:"肺结核",value:"32"}}),a("el-option",{attrs:{label:"糖尿病 ",value:"64"}}),a("el-option",{attrs:{label:"精神病",value:"128"}})],1)],1),a("el-form-item",[a("el-button",{staticClass:"searchbtn ",attrs:{icon:"el-icon-search",round:""},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)],1),a("div",{staticClass:"tabledata padding20 flex-v",staticStyle:{padding:"5px 20px 20px 20px"}},[a("div",{staticClass:"countlist flex-justify"},[t._l(t.countlist,function(e,s){return[e.countshow?a("div",{key:s,staticClass:"countlist-item flex flex-item"},[a("div",[a("div",{staticClass:" itemcount",class:"sizecolor"+s},[t._v(t._s(e.count))]),a("div",{staticClass:"itemtitle"},[t._v(t._s(e.title))])]),a("div",[a("span",{staticClass:"icon iconfont",class:"bj-"+e.icon})])]):t._e()]})],2),a("div",{staticClass:"table-box ",staticStyle:{padding:"0",overflow:"auto",flex:"1"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",attrs:{stripe:"",data:t.tableData,"tooltip-effect":"dark",height:"100%","header-cell-class-name":"custom-table-cell"}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.$index+(t.pageNum-1)*t.pageSize+1)+"\n          ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"个人登记流水号",prop:"sysGuid","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{align:"center",prop:"userName",label:"姓名"}}),a("el-table-column",{attrs:{align:"center",label:"性别",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.sexType?a("div",[t._v("男")]):2==e.row.sexType?a("div",[t._v("女")]):a("div",[t._v("不详")])]}}])}),a("el-table-column",{attrs:{align:"center",label:"年龄","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t._f("emptyData")(e.row.age)))])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"examNum",label:"体检次数",width:"80"}}),a("el-table-column",{attrs:{align:"center",label:"联系电话","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t._f("emptyData")(e.row.contactPhone)))])]}}])})],1)],1)]),a("div",{staticClass:"footer"},[a("bj-pagination",{ref:"paginationEvent",attrs:{"query-obj":t.queryObj,"query-url":"/charts/base/findExamRecordList"},on:{listResult:t.getListResult,controlLoading:t.controlLoading}})],1)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("img",{attrs:{src:a("15df")}})])}],n=a("bd56"),o=a("b279"),r={name:"medicalrecord",data:function(){var t=this.$store.getters.o_userinfo.orgGuid,e=Object(o["g"])(new Date);return{texttitle:"",loading:!1,dateRange:[e,"".concat(e," 23:59:59")],OrganizationId:"",queryObj:{startCreateDate:e,endCreateDate:"".concat(e," 23:59:59"),personType:"",createOrganizationId:t,examStatus:"",sexType:""},pageNum:1,pageSize:10,pageindex:"",countlist:[{title:"今日总人数（人）",count:"",icon:"ponsercount",countshow:!1},{title:"今日男性人数（人）",count:"",icon:"manIcon",countshow:!1},{title:"今日女性人数（人）",count:"",icon:"womenIcon",countshow:!1},{title:"今日已检人数（人）",count:"",icon:"yijiancount",countshow:!1},{title:"今日未检人数（人）",count:"",icon:"weijiancount",countshow:!1}],tableData:[]}},created:function(){this.init(),this.queryObj.sexType=this.$route.query.sexType,this.queryObj.examStatus=this.$route.query.examStatus,"1"===this.queryObj.sexType||"2"===this.queryObj.sexType?(this.countlist[0].countshow=!0,this.countlist[3].countshow=!0,this.countlist[4].countshow=!0,"1"===this.queryObj.sexType?this.texttitle="男性":this.texttitle="女性"):"succ"===this.queryObj.examStatus||"notSucc"===this.queryObj.examStatus?(this.countlist[0].countshow=!0,this.countlist[1].countshow=!0,this.countlist[2].countshow=!0,"succ"===this.queryObj.examStatus?this.texttitle="已体检":this.texttitle="未体检"):(this.countlist[0].countshow=!0,this.countlist[1].countshow=!0,this.countlist[2].countshow=!0,this.countlist[3].countshow=!0,this.countlist[4].countshow=!0,this.texttitle="总体检")},methods:{init:function(){var t=Object(o["g"])(new Date),e="".concat(t," 23:59:59"),a=this.$route.query,s=a.examStatus,i=a.sexType;this.exportFileParams={examStatus:s,sexType:i,startCreateDate:t,endCreateDate:e,createOrganizationId:this.queryObj.createOrganizationId},this.chartstatistic()},exportFile:function(){var t=this;if(!this.tableData.length)return this.$message.warning("没有可用数据可导出！");this.$confirm("",{title:"确定导出？",showClose:!1,customClass:"msg-box"}).then(function(){Object(n["b"])("/charts/base/exportExamRecord",t.exportFileParams,"arraybuffer").then(function(e){var a=e.data,s="体检记录-".concat(t.texttitle);Object(o["e"])(a,s)}).catch(function(e){return t.$message.error(e)})}).catch(function(t){return t})},chartstatistic:function(t){var e=this,a="/charts/base/getOrgRegisterPersonsNum",s={createOrganizationId:this.queryObj.createOrganizationId};this.$post(a,s).then(function(t){console.log("res",t),e.countlist[0].count=t.data.allPersion,e.countlist[1].count=t.data.malePersion,e.countlist[2].count=t.data.femalePersion,e.countlist[3].count=t.data.todayExamSuccPersion,e.countlist[4].count=t.data.regNotExamPersion}).catch(function(t){e.$message.error(t)})},getListResult:function(t){var e=t.list,a=t.pageNum,s=t.pageSize;this.tableData=e,this.pageNum=a,this.pageSize=s;var i=this.queryObj,n=i.startCreateDate,o=i.endCreateDate,r=i.personType,l=i.createOrganizationId;Object.assign(this.exportFileParams,{startCreateDate:n,endCreateDate:o,personType:r,createOrganizationId:l,pageNum:a,pageSize:s})},controlLoading:function(t){this.loading=t},onSubmit:function(){this.chartstatistic(),this.$refs.paginationEvent.initPageList(1)}},computed:{orgList:function(){return this.$store.state.orgList}},watch:{dateRange:function(t){t?(this.queryObj.startCreateDate=t[0],this.queryObj.endCreateDate="".concat(t[1]," 23:59:59")):(this.queryObj.startCreateDate="",this.queryObj.endCreateDate="")}}},l=r,c=(a("4e90"),a("2877")),u=Object(c["a"])(l,s,i,!1,null,"d334c36e",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-8b51dff4.1e8f6af1.js.map